<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="utf-8">
	<title>toDo</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
	<script type="text/javascript" src="/static/js/script.js"></script>
	<link rel="stylesheet" href="../static/css/goal.css">
  <link rel="stylesheet" href="../static/css/loading.css">
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@700&display=swap" rel="stylesheet">
	<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3213171877715325"
		     crossorigin="anonymous"></script>
</head>
<body>
  <div class="model_window_space" id="Japanese" style="display: block;">
    <div class="language-switch">
        <button id="switch-lang">English / 日本語</button>
    </div>
    <div class="ai_chat_space" id="chat-ai" style="display: none;">
      <div id="chat-area">
        <!-- チャットが表示される領域 -->
      </div>
      <!--ワンタッチトーク機能-->
      <div class="preset_phrases" id="preset_phrases" style="display: none;">
        <!-- プログラム開発モード（スタート） -->
        <div class="development" id="development" style="display: none;">
          <h1>こんにちわ</h1>
          <div class="topic_area">
            <h3>・新しいトレンドに挑戦する</h3>
            <a class="select_topic"style="text-decoration: none; color: inherit; cursor: default;">生成AI</a><br>
            <a class="select_topic"style="text-decoration: none; color: inherit; cursor: default;">ブロックチェーン</a><br>
            <a class="select_topic"style="text-decoration: none; color: inherit; cursor: default;">ハイブリッドIoT</a>
          </div>
          <div class="topic_area2">
            <h3>・デバイスから選択する</h3>
            <a class="select_topic"style="text-decoration: none; color: inherit; cursor: default;">IOS</a><br>
            <a class="select_topic"style="text-decoration: none; color: inherit; cursor: default;">Webアプリケーション</a><br>
            <a class="select_topic"style="text-decoration: none; color: inherit; cursor: default;">Andoroid</a>
          </div>
        </div>
        <!-- 他のボタンも同様に追加 -->
      </div>
        <div class="input_text_space">
            <input type="text" id="user-input" class="no-border-input" placeholder="テキストを入力">
            <button id="send-button" class="text_push"><h1>↑</h1></button>
        </div>
    </div>
    <form class="Category">
        <h3 class="title" data-lang-key="title">＜カテゴリー＞</h3>
        <label>
            <input type="radio" name="options" value="option1"> <span data-lang-key="option1">一般タスク</span>
        </label><br>
        <label>
          <input type="radio" name="options" value="option2">資格・試験:
        </label><br>
        <label>
          <input type="radio" name="options" value="option3">プログラム開発:
        </label><br>
    </form>
    <!--一般タスク用項目-->
    <div class="task" id="category1">
    </div>
    <!--資格・試験用項目-->
    <div class="qualification" id="category2" style="display: none;">
      <form class="qualification_name">
        <h3 class="title">＜資格名＞</h3>
            <div class="input_space">
              <input type="text" id="qualificat_name" name="qualificat_name" class="text-input2_1"><br>
            </div>
      </form>
      <form>
        <h3 class="title">＜カラー＞</h3>
        <div id="colorPicker2">
          <div class="color-choice" style="background-color: #F7928C;" onclick="selectColor(this)"></div>
          <div class="color-choice" style="background-color: #F9C76F;" onclick="selectColor(this)"></div>
          <div class="color-choice" style="background-color: #FFE48A;" onclick="selectColor(this)"></div>
          <div class="color-choice" style="background-color: #E8E87D;" onclick="selectColor(this)"></div>
          <div class="color-choice" style="background-color: #9FE897;" onclick="selectColor(this)"></div>
          <div class="color-choice" style="background-color: #48E6E3;" onclick="selectColor(this)"></div>
          <div class="color-choice" style="background-color: #16C0F1;" onclick="selectColor(this)"></div>
          <div class="color-choice" style="background-color: #61A5FF;" onclick="selectColor(this)"></div>
        </div>
      </form>
      <form class="test_day">
        <h3 class="title">＜試験日＞</h3>
        <input type="date" id="test_date" name="test_date">
      </form>
      <form class="current_situation">
        <h3 class="title" data-lang-key="title">＜現状スキル＞</h3>
        <label>
            <input type="radio" name="options_2" value="一度も試験を受けたことがない"> <span data-lang-key="option1">一度も試験を受けたことがない</span>
        </label><br>
        <label>
          <input type="radio" name="options_2" value="試験を受けたことはないが、ある程度知識がある">試験を受けたことはないが、ある程度知識がある
        </label><br>
        <label>
          <input type="radio" name="options_2" value="試験を受けたことがある">試験を受けたことがある
        </label><br>
        <div id="scoreInput" style="display: none;">
          <label for="currentScore">現状スコア:</label>
          <input type="text" id="currentScore" name="currentScore">
        </div>
    </form>
    <form class="target_score">
      <h3 class="title">＜目標スコア＞</h3>
      <label>
        <input type="radio" id="option4" name="options_3" value="合格点以上を目指す">合格点以上を目指す
      </label><br>
      <label>
        <input type="radio" id="option5" name="options_3" value="自己目標を立てる">自己目標を立てる
      </label><br>
      <div id="targetscoreInput" style="display: none;">
        <label for="targetScore">目標スコア:</label>
        <input type="text" id="targetScore" name="targetScore">
      </div>
    </form>
    <button class="create_button3">プロジェクトを作成</button>
    </div>


    <!--プログラム開発用項目-->
    <div class="development" id="category3" style="display: none;">
        <form class="system-name">
            <h3 class="title">＜作成したいシステム名＞</h3>
            <div class="input_space">
                <input type="text" id="customText" name="customText" class="text-input"><br>
            </div>
        </form>
        <!--プロジェクトカラーの選択-->
        <form>
          <h3 class="title">＜カラー＞</h3>
          <div id="colorPicker">
            <div class="color-choice" style="background-color: #F7928C;" onclick="selectColor(this)"></div>
            <div class="color-choice" style="background-color: #F9C76F;" onclick="selectColor(this)"></div>
            <div class="color-choice" style="background-color: #FFE48A;" onclick="selectColor(this)"></div>
            <div class="color-choice" style="background-color: #E8E87D;" onclick="selectColor(this)"></div>
            <div class="color-choice" style="background-color: #9FE897;" onclick="selectColor(this)"></div>
            <div class="color-choice" style="background-color: #48E6E3;" onclick="selectColor(this)"></div>
            <div class="color-choice" style="background-color: #16C0F1;" onclick="selectColor(this)"></div>
            <div class="color-choice" style="background-color: #61A5FF;" onclick="selectColor(this)"></div>
            
          </div>
        </form>
        <div class="day_block">
          <!--プロジェクトの開始日を選択-->
          <form class="start_day">
            <h3 class="title">＜開始日＞</h3>
            <input type="date" id="start_date" name="start_date">
          </form>
          <form class="make-day">
              <h3 class="title" id="make_day">＜作成日数＞</h3>
              <div class="input_space">
                  <input type="text" id="customText" name="customText" class="text-input"><br>
              </div>
          </form>
        </div>
        <form class="custom">
            <div class="text">
                <h3 class="title">＜具体的な機能＞</h3><p>※最低3つ以上必要です</p>
            </div>
            <div class="input_space" id="inputSpace">
                <div class="tipe" id="functionFields">
                    <input type="text" id="functionText1" name="customText" class="text-input2"><br>
                    <input type="text" id="functionText2" name="customText" class="text-input2"><br>
                    <input type="text" id="functionText3" name="customText" class="text-input2"><br>
                </div>
                <button type="button" id="addButton" class="add-button">+</button>
            </div>
        </form>
        <form class="use_lang_space">
            <div class="po">
              <h3 class="title">＜使用する言語＞</h3>
              <button class="create_button2">自動選択する</button>
            </div>
            <div class="use_lang">
                <label>
                    <input type="checkbox" name="option1" value="Python" class="lang">Python
                  </label><br>
                  <label>
                    <input type="checkbox" name="option2" value="Java" class="lang">Java
                  </label><br>
                  <label>
                    <input type="checkbox" name="option3" value="C/C++" class="lang">C / C++
                  </label><br>
                  <label>
                    <input type="checkbox" name="option4" value="C#" class="lang">C#
                  </label><br>
                  <label>
                    <input type="checkbox" name="option5" value="Swift" class="lang">Swift
                  </label><br>
                  <label>
                    <input type="checkbox" name="option6" value="PHP" class="lang">PHP
                  </label><br>
                  <label>
                      <input type="checkbox" name="option1" value="Ruby" class="lang">Ruby
                    </label><br>
                    <label>
                      <input type="checkbox" name="option2" value="HTMI/CSS" class="lang">HTML / CSS
                    </label><br>
                    <label>
                      <input type="checkbox" name="option3" value="javascript" class="lang">javascript
                    </label><br>
                    <label>
                      <input type="checkbox" name="option4" value="Kotlin" class="lang">Kotlin
                    </label><br>
                    <label>
                      <input type="checkbox" name="option5" value="GO" class="lang">GO言語
                    </label><br>
                    <label>
                      <input type="checkbox" name="option6" value="R" class="lang">R言語
                    </label><br>
                    <label>
                        <input type="checkbox" name="option6" value="SQL" class="lang">SQL言語
                      </label><br>
            </div>
          </form>
          <form>
            <h3 class="title">＜使用するツール・プラットフォーム＞</h3>
            <div class="use_lang">
                <label>
                    <input type="checkbox" name="option1" value="Azure" class="lang">Azure
                  </label><br>
                  <label>
                    <input type="checkbox" name="option2" value="GCP" class="lang">GCP
                  </label><br>
                  <label>
                    <input type="checkbox" name="option3" value="AWS" class="lang">AWS
                  </label><br>
                  <label>
                    <input type="checkbox" name="option4" value="Firebase" class="lang">Firebase
                  </label><br>
                  <label>
                    <input type="checkbox" name="option5" value="GitHub" class="lang">GitHub
                  </label><br>
                  <label>
                    <input type="checkbox" name="option6" value="Docker" class="lang">Docker
                  </label><br>
                  <label>
                      <input type="checkbox" name="option1" value="GitLab" class="lang">GitLab
                    </label><br>
                    <label>
                      <input type="checkbox" name="option2" value="Postman" class="lang">Postman
                    </label><br>
                    <label>
                      <input type="checkbox" name="option3" value="Swagger" class="lang">Swagger
                    </label><br>
                    <label>
                      <input type="checkbox" name="option4" value="DigitalOcean" class="lang">DigitalOcean
                    </label><br>
                    <label>
                      <input type="checkbox" name="option5" value="Heroku" class="lang">Heroku
                    </label><br>
                    <label>
                      <input type="checkbox" name="option6" value="Oracle Cloud" class="lang">Oracle Cloud
                    </label><br>
                    <label>
                        <input type="checkbox" name="option6" value="MySQL" class="lang">MySQL
                      </label><br>
            </div>
          </form>
          <button class="create_button">プロジェクトを作成</button>
    </div>
    <!--英語用に切り替える-->
  <div class="model_window_space" id="English">
    <div class="language-switch">
        <button id="switch-lang">English / 日本語</button>
    </div>
    <div class="ai_chat_space" id="chat-ai-eng" style="display: none;">
      <div id="chat-area-eng">
        <!-- チャットが表示される領域 -->
      </div>
      <!--ワンタッチトーク機能-->
      <div class="preset_phrases2" id="preset_phrases2" style="display: none;">
        <!-- プログラム開発モード（スタート） -->
        <div class="development2" id="development2" style="display: none;">
          <h1>Hello</h1>
          <div class="topic_area">
            <h3>・Explore New Trends</h3>
            <a class="select_topic"style="text-decoration: none; color: inherit; cursor: default;">Generative AI</a><br>
            <a class="select_topic"style="text-decoration: none; color: inherit; cursor: default;">Blockchain</a><br>
            <a class="select_topic"style="text-decoration: none; color: inherit; cursor: default;">Hybrid IoT</a>
          </div>
          <div class="topic_area2">
            <h3>・Select from Devices</h3>
            <a class="select_topic"style="text-decoration: none; color: inherit; cursor: default;">IOS</a><br>
            <a class="select_topic"style="text-decoration: none; color: inherit; cursor: default;">Web Applications</a><br>
            <a class="select_topic"style="text-decoration: none; color: inherit; cursor: default;">Andoroid</a>
          </div>
        </div>
        <!-- 他のボタンも同様に追加 -->
      </div>
        <div class="input_text_space">
            <input type="text" id="user-input-eng" class="no-border-input" placeholder="Send a message">
            <button class="text_push" id="send-button-eng"><h1>↑</h1></button>
        </div>
    </div>
    <form class="CategoryEng">
        <h3 class="title" data-lang-key="title">＜Category＞</h3>
        <label>
            <input type="radio" name="options" value="option1"> <span data-lang-key="option1">General tasks</span>>
        </label><br>
        <label>
          <input type="radio" name="options" value="option2">Qualification/Examination:
        </label><br>
        <label>
          <input type="radio" name="options" value="option3">Program development:
        </label><br>
    </form>
    <!--一般タスク用項目-->
    <div class="task" id="category1">
    </div>
    <!--資格・試験用項目-->
    <!-- Qualification/Examination Section for English -->
    <div class="qualification" id="qualification-eng" style="display: none;">
      <form class="qualification-name-eng">
        <h3 class="title">＜Qualification Name＞</h3>
        <div class="input-space">
          <input type="text" id="qualification-name-eng" name="qualification_name_eng" class="text-input2_1"><br>
        </div>
      </form>
      <form>
        <h3 class="title">＜Color＞</h3>
        <div id="colorPicker-eng">
          <div class="color-choice" style="background-color: #F7928C;" onclick="selectColor(this)"></div>
          <div class="color-choice" style="background-color: #F9C76F;" onclick="selectColor(this)"></div>
          <div class="color-choice" style="background-color: #FFE48A;" onclick="selectColor(this)"></div>
          <div class="color-choice" style="background-color: #E8E87D;" onclick="selectColor(this)"></div>
          <div class="color-choice" style="background-color: #9FE897;" onclick="selectColor(this)"></div>
          <div class="color-choice" style="background-color: #48E6E3;" onclick="selectColor(this)"></div>
          <div class="color-choice" style="background-color: #16C0F1;" onclick="selectColor(this)"></div>
          <div class="color-choice" style="background-color: #61A5FF;" onclick="selectColor(this)"></div>
        </div>
      </form>
      <form class="test-day-eng">
        <h3 class="title">＜Test Date＞</h3>
        <input type="date" id="test-date-eng" name="test_date_eng">
      </form>
      <form class="current-situation-eng">
        <h3 class="title">＜Current Skill Level＞</h3>
        <!-- Update value and label texts to English -->
        <label>
          <input type="radio" name="options_current_eng" value="Never taken the exam"> Never taken the exam
        </label><br>
        <label>
          <input type="radio" name="options_current_eng" value="No exam experience but some knowledge"> No exam experience but some knowledge
        </label><br>
        <label>
          <input type="radio" name="options_current_eng" value="Have taken the exam"> Have taken the exam
        </label><br>
        <div id="current-score-input-eng" style="display: none;">
          <label for="current-score-eng">Current Score:</label>
          <input type="text" id="current-score-eng" name="current_score_eng">
        </div>
      </form>
      <form class="target-score-eng">
        <h3 class="title">＜Target Score＞</h3>
        <!-- Update value and label texts to English -->
        <label>
          <input type="radio" id="option-target-4-eng" name="options_target_eng" value="Aim for passing score"> Aim for passing score
        </label><br>
        <label>
          <input type="radio" id="option-target-5-eng" name="options_target_eng" value="Set a personal target"> Set a personal target
        </label><br>
        <div id="target-score-input-eng" style="display: none;">
          <label for="target-score-eng">Target Score:</label>
          <input type="text" id="target-score-eng" name="target_score_eng">
        </div>
      </form>
      <button class="create-button-eng">Create Project</button>
    </div>




    <!--プログラム開発用項目-->
    <div class="development" id="category3" style="display: none;">
        <form class="system-name">
            <h3 class="title">＜Name of the system you want to create＞</h3>
            <div class="input_space">
                <input type="text" id="customText" name="customText" class="text-input"><br>
            </div>
        </form>
        <form>
          <h3 class="title">＜Color＞</h3>
          <div id="colorPicker">
            <div class="color-choice" style="background-color: #F7928C;" onclick="selectColor(this)"></div>
            <div class="color-choice" style="background-color: #F9C76F;" onclick="selectColor(this)"></div>
            <div class="color-choice" style="background-color: #FFE48A;" onclick="selectColor(this)"></div>
            <div class="color-choice" style="background-color: #E8E87D;" onclick="selectColor(this)"></div>
            <div class="color-choice" style="background-color: #9FE897;" onclick="selectColor(this)"></div>
            <div class="color-choice" style="background-color: #48E6E3;" onclick="selectColor(this)"></div>
            <div class="color-choice" style="background-color: #16C0F1;" onclick="selectColor(this)"></div>
            <div class="color-choice" style="background-color: #61A5FF;" onclick="selectColor(this)"></div>
            
          </div>
        </form>
        <div class="day_block">
          <!--プロジェクトの開始日を選択-->
          <form class="start_day">
            <h3 class="title">＜Start Day＞</h3>
            <input type="date" id="start_date" name="start_date">
          </form>
          <form class="make-day">
              <h3 class="title" id="make_day">＜Create Day＞</h3>
              <div class="input_space">
                  <input type="text" id="customText" name="customText" class="text-input"><br>
              </div>
          </form>
        </div>
        <form class="custom">
            <div class="text">
                <h3 class="title">＜Specific functions＞</h3><p>※At least 3 required</p>
            </div>
            <div class="input_space" id="inputSpace">
                <div class="tipe" id="functionFields">
                    <input type="text" id="functionText1" name="customText" class="text-input2"><br>
                    <input type="text" id="functionText2" name="customText" class="text-input2"><br>
                    <input type="text" id="functionText3" name="customText" class="text-input2"><br>
                </div>
                <button type="button" id="addButton" class="add-button">+</button>
            </div>
        </form>
        <form class="use_lang_space">
            <div class="po">
              <h3 class="title">＜Language used＞</h3>
              <button class="create_button2">Automatically select</button>
            </div>
            <div class="use_lang">
                <label>
                    <input type="checkbox" name="option1" value="Python" class="lang">Python
                  </label><br>
                  <label>
                    <input type="checkbox" name="option2" value="Java" class="lang">Java
                  </label><br>
                  <label>
                    <input type="checkbox" name="option3" value="C/C++" class="lang">C / C++
                  </label><br>
                  <label>
                    <input type="checkbox" name="option4" value="C#" class="lang">C#
                  </label><br>
                  <label>
                    <input type="checkbox" name="option5" value="Swift" class="lang">Swift
                  </label><br>
                  <label>
                    <input type="checkbox" name="option6" value="PHP" class="lang">PHP
                  </label><br>
                  <label>
                      <input type="checkbox" name="option1" value="Ruby" class="lang">Ruby
                    </label><br>
                    <label>
                      <input type="checkbox" name="option2" value="HTMI/CSS" class="lang">HTML / CSS
                    </label><br>
                    <label>
                      <input type="checkbox" name="option3" value="javascript" class="lang">javascript
                    </label><br>
                    <label>
                      <input type="checkbox" name="option4" value="Kotlin" class="lang">Kotlin
                    </label><br>
                    <label>
                      <input type="checkbox" name="option5" value="GO" class="lang">GO
                    </label><br>
                    <label>
                      <input type="checkbox" name="option6" value="R" class="lang">R
                    </label><br>
                    <label>
                        <input type="checkbox" name="option6" value="SQL" class="lang">SQL
                      </label><br>
            </div>
          </form>
          <form>
            <h3 class="title">＜Tool platform used＞</h3>
            <div class="use_lang">
                <label>
                    <input type="checkbox" name="option1" value="Azure" class="lang">Azure
                  </label><br>
                  <label>
                    <input type="checkbox" name="option2" value="GCP" class="lang">GCP
                  </label><br>
                  <label>
                    <input type="checkbox" name="option3" value="AWS" class="lang">AWS
                  </label><br>
                  <label>
                    <input type="checkbox" name="option4" value="Firebase" class="lang">Firebase
                  </label><br>
                  <label>
                    <input type="checkbox" name="option5" value="GitHub" class="lang">GitHub
                  </label><br>
                  <label>
                    <input type="checkbox" name="option6" value="Docker" class="lang">Docker
                  </label><br>
                  <label>
                      <input type="checkbox" name="option1" value="GitLab" class="lang">GitLab
                    </label><br>
                    <label>
                      <input type="checkbox" name="option2" value="Postman" class="lang">Postman
                    </label><br>
                    <label>
                      <input type="checkbox" name="option3" value="Swagger" class="lang">Swagger
                    </label><br>
                    <label>
                      <input type="checkbox" name="option4" value="DigitalOcean" class="lang">DigitalOcean
                    </label><br>
                    <label>
                      <input type="checkbox" name="option5" value="Heroku" class="lang">Heroku
                    </label><br>
                    <label>
                      <input type="checkbox" name="option6" value="Oracle Cloud" class="lang">Oracle Cloud
                    </label><br>
                    <label>
                        <input type="checkbox" name="option6" value="MySQL" class="lang">MySQL
                      </label><br>
            </div>
          </form>
          <button class="create_button">Create Project</button>
    </div>
</div>
</div>
<div class="loading_container" style="display: none;">
  <div class='loading'>
    <div class='loading__square'></div>
    <div class='loading__square'></div>
    <div class='loading__square'></div>
    <div class='loading__square'></div>
    <div class='loading__square'></div>
    <div class='loading__square'></div>
    <div class='loading__square'></div>
  </div>
  <div class="adv">
    <p id="advice"></p>
  </div>
</div>
<div class="loading_container_eng" style="display: none; white-space: pre-wrap;">
  <div class='loading'>
    <div class='loading__square'></div>
    <div class='loading__square'></div>
    <div class='loading__square'></div>
    <div class='loading__square'></div>
    <div class='loading__square'></div>
    <div class='loading__square'></div>
    <div class='loading__square'></div>
  </div>
  <div class="adv">
    <p id="advice_eng"></p>
  </div>
</div>

<!--選択されたトピックをもとにテキストを自動入力（日本語版）-->
<script>
  document.addEventListener('DOMContentLoaded', function() {
    const topics = document.querySelectorAll('.select_topic');
    const inputField = document.getElementById('user-input');

    topics.forEach(topic => {
        topic.addEventListener('click', function() {
            // すべてのトピックの背景色をリセット
            topics.forEach(t => t.style.backgroundColor = '');

            // 選択されたトピックの背景色を変更
            this.style.backgroundColor = '#ADD8E6'; // 例としてライトブルーを選択

            // テキスト入力欄に文章を挿入
            inputField.value = this.textContent + " を用いたプロジェクトを考えて。";
        });
    });
});

</script>

<!--現状スコアの自己記入欄を表示（日本語版）-->
<script>
  document.addEventListener('DOMContentLoaded', function() {
  // ラジオボタンの選択状態を監視
  document.querySelectorAll('.current_situation input[type="radio"]').forEach(function(radio) {
    radio.addEventListener('change', function() {
      // 'option3'が選択された場合に入力欄を表示
      if (this.value === '試験を受けたことがある') {
        document.getElementById('scoreInput').style.display = '';
      } else {
        document.getElementById('scoreInput').style.display = 'none';
      }
    });
  });
});
</script>

<!--現状スコアの自己記入欄を表示（英語版）-->
<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Monitor the selection state of the radio buttons
    document.querySelectorAll('.current-situation-eng input[type="radio"]').forEach(function(radio) {
      radio.addEventListener('change', function() {
        // Display the input field when 'Have taken the exam' is selected
        if (this.value === 'Have taken the exam') {
          document.getElementById('current-score-input-eng').style.display = '';
        } else {
          document.getElementById('current-score-input-eng').style.display = 'none';
        }
      });
    });
  });
</script>

<!--目標スコアの自己記入欄を表示（日本語版）-->
<script>
  window.onload = function() {
    // ラジオボタンの要素を取得
    var option4 = document.getElementById('option4');
    var option5 = document.getElementById('option5');
  
    // テキストボックスの要素を取得
    var targetScoreInput = document.getElementById('targetscoreInput');
  
    // ラジオボタンの状態に応じてテキストボックスの表示を切り替える関数
    var toggleInput = function() {
      if (option5.checked) {
        // '自己目標を立てる' が選択された場合、テキストボックスを表示
        targetScoreInput.style.display = 'block';
      } else {
        // それ以外の場合、テキストボックスを非表示
        targetScoreInput.style.display = 'none';
      }
    };
  
    // ラジオボタンの状態が変更されたときに関数を実行
    option4.addEventListener('change', toggleInput);
    option5.addEventListener('change', toggleInput);
  
    // ページ読み込み時の初期状態
    toggleInput();
  };
  </script>

<!--目標スコアの自己記入欄を表示（英語版）-->
<script>
  window.onload = function() {
    // Get the radio button elements
    var optionTarget4Eng = document.getElementById('option-target-4-eng');
    var optionTarget5Eng = document.getElementById('option-target-5-eng');
  
    // Get the target score input element
    var targetScoreInputEng = document.getElementById('target-score-input-eng');
  
    // Function to toggle the display of the text box based on the radio button state
    var toggleInputEng = function() {
      if (optionTarget5Eng.checked) {
        // Display the text box when 'Set a personal target' is selected
        targetScoreInputEng.style.display = 'block';
      } else {
        // Hide the text box otherwise
        targetScoreInputEng.style.display = 'none';
      }
    };
  
    // Execute the function when the radio button state changes
    optionTarget4Eng.addEventListener('change', toggleInputEng);
    optionTarget5Eng.addEventListener('change', toggleInputEng);
  
    // Initial state on page load
    toggleInputEng();
  };
</script>

<!--日本語版のローディング画面のテキスト-->
<script>
  const tips = [
  "深呼吸をすることで、集中力が高まり、ストレスが減少します。",
    "タイマーを設定して、短時間集中することで効率的な作業が可能になります。",
    "睡眠は集中力を高め、ストレスを減らすのに不可欠です。十分な睡眠をとりましょう。",
    "瞑想やヨガは、集中力を高めるのに効果的な方法です。",
    "短い休憩を取ることで、長時間の作業における集中力が保たれます。",
    "目標を細分化することで、時間管理がしやすくなります。",
    "ストレスを感じたときは、自然の中で時間を過ごすことが助けになります。",
    "音楽を聴くことで、集中力を高めることができます。",
    "優先順位をつけることで、時間を効率的に使えます。",
    "良い姿勢を保つことで、集中力が向上します。",
    "仕事の前に短い運動をすると、集中力が高まります。",
    "ストレスを感じたら、書き出してみると良いでしょう。",
    "1日の終わりに次の日の計画を立てると、時間管理が楽になります。",
    "良い食事は、エネルギーレベルを保ち、集中力を高めます。",
    "仕事と休息のバランスを取ることが重要です。",
    "デジタルデトックスを行うと、集中力が向上します。",
    "自分のリズムを知ることで、時間管理がしやすくなります。",
    "目標を視覚化することで、達成へのモチベーションが高まります。",
    "ストレスは逃げるのではなく、向き合うことで管理できます。",
    "自分自身に対して優しいことは、ストレス管理に役立ちます。"
  ];
  function showRandomTip() {
  const adviceElement = document.getElementById("advice");
  const randomIndex = Math.floor(Math.random() * tips.length);
  const newText = tips[randomIndex];

  // 現在のテキストを取得
  const currentChars = adviceElement.innerText.split('');

  // 新しいテキストを1文字ずつのspan要素に分割し、アニメーションを適用
  const newChars = newText.split('');
  const maxLength = Math.max(currentChars.length, newChars.length);

  adviceElement.innerHTML = newChars.map((char, index) => 
    `<span class="flip" style="animation-delay: ${index * 0.05}s;">${currentChars[index] || ''}</span>`
  ).join('');

  // 半回転する前に新しい文字に置き換え
  const chars = adviceElement.querySelectorAll('.flip');
  chars.forEach((char, index) => {
    setTimeout(() => {
      char.innerText = newChars[index] || '';
    }, index * 0.1 * 1000); // アニメーション遅延の前に置き換え
  });
}

showRandomTip();
setInterval(showRandomTip, 10000); // 10秒ごとに切り替え
</script>

<!--英語版のローディング画面のテキスト-->
<script>
  const tips_eng = [
  "Deep breathing can increase concentration and reduce stress.",
"Setting a timer and focusing for short periods can enable efficient work.",
"Sleep is essential for enhancing concentration and reducing stress. Get adequate sleep.",
"Meditation and yoga are effective ways to improve focus.",
"Taking short breaks maintains concentration during long work periods.",
"Breaking down goals makes time management easier.",
"Spending time in nature can help when feeling stressed.",
"Listening to music can boost concentration.",
"Prioritizing helps use time efficiently.",
"Maintaining good posture improves focus.",
"Doing brief exercise before work increases concentration.",
"Writing down stress can help manage it.",
"Planning the next day at end of day simplifies time management.",
"Good nutrition maintains energy and enhances focus.",
"Work-life balance is important.",
"A digital detox improves concentration.",
"Knowing your rhythms makes time management easier.",
"Visualizing goals raises motivation for achievement.",
"Stress is managed by facing it, not avoiding it.",
"Self-compassion helps manage stress."
  ];
  function showRandomTip() {
  const adviceElement = document.getElementById("advice_eng");
  const randomIndex = Math.floor(Math.random() * tips_eng.length);
  const newText = tips_eng[randomIndex];

  // 現在のテキストを取得
  const currentChars = adviceElement.innerText.split('');

  // 新しいテキストを1文字ずつのspan要素に分割し、アニメーションを適用
  const newChars = newText.split('');
  const maxLength = Math.max(currentChars.length, newChars.length);

  adviceElement.innerHTML = newChars.map((char, index) => 
    `<span class="flip" style="animation-delay: ${index * 0.05}s;">${currentChars[index] || ''}</span>`
  ).join('');

  // 半回転する前に新しい文字に置き換え
  const chars = adviceElement.querySelectorAll('.flip');
  chars.forEach((char, index) => {
    setTimeout(() => {
      char.innerText = newChars[index] || '';
    }, index * 0.1 * 1000); // アニメーション遅延の前に置き換え
  });
}

showRandomTip();
setInterval(showRandomTip, 10000); // 10秒ごとに切り替え
</script>

<!--日本語版のラジオボタンの監視-->
<script>
  document.addEventListener('DOMContentLoaded', function() {
      // ラジオボタンの選択を監視する
      document.querySelectorAll('#Japanese form.Category input[type="radio"]').forEach(function(radio) {
          radio.addEventListener('change', function() {
              // すべてのカテゴリー関連のdivを非表示にする
              document.getElementById('category1').style.display = 'none';
              document.getElementById('category2').style.display = 'none';
              document.getElementById('category3').style.display = 'none';
              document.getElementById('chat-ai').style.display = 'none';
              document.getElementById('development').style.display = 'none';
              document.getElementById('preset_phrases').style.display = 'none';
              // 選択されたラジオボタンに応じて適切なdivを表示する
              switch (this.value) {
                  case 'option1':
                      document.getElementById('category1').style.display = '';
                      alert('現在作成中です。現在は、プログラム開発のみ利用できます。');
                      break;
                  case 'option2':
                      document.getElementById('category2').style.display = '';
                      document.getElementById('chat-ai').style.display = '';
                      document.getElementById('preset_phrases').style.display = '';
                      break;
                  case 'option3':
                      document.getElementById('category3').style.display = '';
                      document.getElementById('chat-ai').style.display = '';
                      document.getElementById('preset_phrases').style.display = '';
                      document.getElementById('development').style.display = '';
                      break;
              }
          });
      });
  });
</script>

<!--英語版のラジオボタンの監視-->
<script>
  document.addEventListener('DOMContentLoaded', function() {
    // 英語版のラジオボタンの選択を監視
    document.querySelectorAll('#English .CategoryEng input[type="radio"]').forEach(function(radio) {
        radio.addEventListener('change', function() {
            // すべてのカテゴリー関連のdivを非表示にする
            document.querySelectorAll('#English .task, #English .qualification, #English .development, #English #chat-ai-eng').forEach(div => div.style.display = 'none');
            var chatArea = document.getElementById('chat-area-eng');

            // Clear the contents of the chat area
            if (chatArea) {
                chatArea.innerHTML = '';
            }

            // 選択されたラジオボタンに応じて適切なdivを表示する
            switch (this.value) {
                case 'option1':
                    document.querySelector('#English .task').style.display = '';
                    alert('Currently under construction. Only program development is available now.');
                    break;
                case 'option2':
                    document.querySelector('#English .qualification').style.display = '';
                    document.querySelector('#English #chat-ai-eng').style.display = '';
                    document.querySelector('#English .development2').style.display = 'none';
                    break;
                case 'option3':
                    document.querySelector('#English .development').style.display = '';
                    document.querySelector('#English #chat-ai-eng').style.display = '';
                    document.querySelector('#English .preset_phrases2').style.display = '';
                    document.querySelector('#English .development2').style.display = '';
                    break;
            }
        });
    });
});

</script>
        
        
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const maxFields = 10;
            const addButton = document.getElementById('addButton');
            const functionFields = document.getElementById('functionFields');

            addButton.addEventListener('click', function() {
                const totalInputs = functionFields.querySelectorAll('input').length;
                
                if (totalInputs < maxFields) {
                    const newInput = document.createElement('input');
                    newInput.type = 'text';
                    newInput.name = 'customText';
                    newInput.className = 'text-input2';
                    functionFields.appendChild(newInput);
                    functionFields.appendChild(document.createElement('br'));
                }
            });
        });
    </script>

    <!--プログラム開発の入力内容を取得する（日本語版）-->
    <script>
       document.addEventListener('DOMContentLoaded', function() {
        const createButton = document.querySelector('.create_button');
        const loadingDiv = document.querySelector('.loading_container');
        let selectedColor = null; // グローバル変数としてselectedColorを定義

        function selectColorDevelopment(element) {
            document.querySelectorAll('#category3 .color-choice').forEach(function(choice) {
                choice.classList.remove('selected');
            });

            element.classList.add('selected');
            selectedColor = window.getComputedStyle(element).backgroundColor;
            console.log('Selected color:', selectedColor);
        }

        document.querySelectorAll('#category3 .color-choice').forEach(function(choice) {
            choice.addEventListener('click', function() {
                selectColorDevelopment(this);
            });
        });
  
          createButton.addEventListener('click', function() {
              // カテゴリーの値を取得
              const category = document.querySelector('form.Category input[type="radio"]:checked')?.value;
  
              // システム名を取得
              const systemName = document.querySelector('.system-name .text-input')?.value;
  
              // 作成日数を取得
              const makeDay = document.querySelector('.make-day .text-input')?.value;
  
              // 具体的な機能を取得
              const functions = [];
              document.querySelectorAll('.custom .text-input2').forEach(function(input) {
                  functions.push(input.value);
              });
  
              // 使用する言語を取得
              const languages = [];
              document.querySelectorAll('.use_lang_space .lang:checked').forEach(function(checkbox) {
                  languages.push(checkbox.value);
              });
  
              // 使用するツール・プラットフォームを取得
              const tools = [];
              document.querySelectorAll('.use_lang .lang:checked').forEach(function(checkbox) {
                  tools.push(checkbox.value);
              });

              // 計算されたスタイルから背景色を取得してグローバル変数に保存
              selectedColor = window.getComputedStyle(element).backgroundColor;

          // グローバル変数を隠し入力フィールドなどに保存する
          document.getElementById('hiddenSelectedColor').value = selectedColor;

              const startDate = document.querySelector('#start_date').value;
  
              // コンソールに出力（デバッグ用）
              console.log('カテゴリー:', category);
              console.log('システム名:', systemName);
              console.log('作成日数:', makeDay);
              console.log('具体的な機能:', functions);
              console.log('使用する言語:', languages);
              console.log('使用するツール・プラットフォーム:', tools);
              console.log('選択されたカラー:', selectedColor);
              console.log('開始日:', startDate);
              // 送信するデータを準備
              const data = {
                  'language':"Japanese",
                  'category': category,
                  'systemName': systemName,
                  'makeDay': makeDay,
                  'functions': functions,
                  'languages': languages,
                  'tools': tools,
                  'selectedColor': selectedColor, // 追加
                  'startDate': startDate, // 追加
              };
  
              loadingDiv.style.display = 'flex';
  
              // AJAXを使ってサーバーにデータを送信
              fetch('/create_project', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(data)
            })
            .then(response => response.json())
            .then(data => {
              // ローディング画面を非表示
              loadingDiv.style.display = 'none';
  
              // レスポンスの処理
              console.log('Response:', data);
              if (data.redirect) {
                  window.location.href = data.redirect_url;
              } else {
                  alert('プロジェクトを作成できませんでした。もう一度作成して見てください');
              }
          })
          .catch((error) => {
            loadingDiv.style.display = 'none';
          console.error('Error:', error);
        });
      });
  });

  function selectColorEng(element) {
      document.querySelectorAll('#colorPicker-eng .color-choice').forEach(function(choice) {
          choice.classList.remove('selected');
      });
  
      element.classList.add('selected');
  }
  </script>

  <!--プログラム開発の内容を取得（英語版）-->
  <script>
    // 英語版の選択されたカラーを保存する変数
    let selectedColorEng = null;

    // 英語版のカラー選択時の処理
    function selectColorEng(element) {
      // すべての色選択肢から 'selected' クラスを削除
      document.querySelectorAll('#English .color-choice').forEach(function(choice) {
        choice.classList.remove('selected');
      });
      
      // クリックされた要素に 'selected' クラスを追加
      element.classList.add('selected');

      // 計算されたスタイルから背景色を取得して変数に保存
      selectedColorEng = window.getComputedStyle(element).backgroundColor;
    }

    // 英語版のカラーピッカーのdivにクリックイベントをバインド
    document.querySelectorAll('#English .color-choice').forEach(function(choice) {
      choice.addEventListener('click', function() {
        selectColorEng(this);
      });
    });
    
    document.addEventListener('DOMContentLoaded', function() {
        const loadingDiv = document.querySelector('.loading_container_eng');
        const createButtonEng = document.querySelector('#English .create_button');
        createButtonEng.addEventListener('click', function() {
            // 英語版のカテゴリーの値を取得
            const categoryEng = document.querySelector('#English .CategoryEng input[type="radio"]:checked')?.value;
            // 英語版のシステム名を取得
            const systemNameEng = document.querySelector('#English .system-name .text-input')?.value;
            // 英語版の作成日数を取得
            const makeDayEng = document.querySelector('#English .make-day .text-input')?.value;
            // 英語版の具体的な機能を取得
            const functionsEng = [];
            document.querySelectorAll('#English .custom .text-input2').forEach(function(input) {
                functionsEng.push(input.value);
            });
            // 英語版で使用する言語を取得
            const languagesEng = [];
            document
    .querySelectorAll('#English .use_lang_space .lang:checked').forEach(function(checkbox) {
    languagesEng.push(checkbox.value);
    });
        // 英語版で使用するツール・プラットフォームを取得
        const toolsEng = [];
        document.querySelectorAll('#English .use_lang .lang:checked').forEach(function(checkbox) {
            toolsEng.push(checkbox.value);
        });
        const startDateEng = document.querySelector('#English #start_date').value;
        // コンソールに出力（デバッグ用）
        console.log('Category:', categoryEng);
        console.log('System Name:', systemNameEng);
        console.log('Creation Days:', makeDayEng);
        console.log('Specific Functions:', functionsEng);
        console.log('Languages Used:', languagesEng);
        console.log('Tools/Platforms Used:', toolsEng);
        console.log('Selected Color (English):', selectedColorEng);
        console.log('Start Date (English):', startDateEng);
        // 送信するデータを準備
        const dataEng = {
            'language':"English",
            'category': categoryEng,
            'systemName': systemNameEng,
            'makeDay': makeDayEng,
            'functions': functionsEng,
            'languages': languagesEng,
            'tools': toolsEng,
            'selectedColor': selectedColorEng, // 追加
            'startDate': startDateEng, // 追加
        };
  
        loadingDiv.style.display = 'flex';
        
        // AJAXを使ってサーバーにデータを送信
        fetch('/create_project', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(dataEng)
        })
        .then(response => response.json())
        .then(data => {
          // ローディング画面を非表示
          loadingDiv.style.display = 'none';
            console.log('Response:', data);
            if (data.redirect
          ) {
          // リダイレクトが必要な場合、指定されたURLにリダイレクト
          window.location.href = data.redirect_url;
        } else {
                alert('Could not create project. Please try creating it again' );
              }
        })
        .catch((error) => {
          loadingDiv.style.display = 'none';
            console.error('Error:', error);
        });
    });
    });
  </script>

  <!--入力内容の不備チェッカー（日本語版）-->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
        const createButton = document.querySelector('.create_button');

        createButton.addEventListener('click', function() {
            let isValid = true;
            let firstInvalidElement = null;

            // 入力欄の枠線の色をリセットする関数
            const resetBorderColor = (element) => {
                element.style.borderColor = '';
            };

            // 各フォーム要素を確認
            const category = document.querySelector('form.Category input[type="radio"]:checked');
            const systemName = document.querySelector('.system-name .text-input');
            const makeDay = document.querySelector('.make-day .text-input');

            // すべての入力欄の枠線をリセット
            [systemName, makeDay].forEach(resetBorderColor);
            document.querySelectorAll('.custom .text-input2').forEach(resetBorderColor);

            // カテゴリーの確認
            if (!category) {
                isValid = false;
            }

            // システム名の確認
            if (!systemName.value) {
                systemName.style.borderColor = 'red';
                isValid = false;
                firstInvalidElement = firstInvalidElement || systemName;
            }

            // 作成日数の確認
            if (!makeDay.value) {
                makeDay.style.borderColor = 'red';
                isValid = false;
                firstInvalidElement = firstInvalidElement || makeDay;
            }

            // 具体的な機能の確認
            document.querySelectorAll('.custom .text-input2').forEach(function(input) {
                if (!input.value) {
                    input.style.borderColor = 'red';
                    isValid = false;
                    firstInvalidElement = firstInvalidElement || input;
                }
            });

            // 入力が不足している場合の処理
            if (!isValid && firstInvalidElement) {
                // 最初の無効な要素にスクロールする
                firstInvalidElement.scrollIntoView({ behavior: 'smooth', block: 'center' });
                return;
            }

            // ここでデータの処理を続行
        });
    });
  </script>

<!--言語切り替え用のボタン-->
<script>
    document.addEventListener('DOMContentLoaded', function() {
    const switchLangButtons = document.querySelectorAll('.language-switch button');
    switchLangButtons.forEach(function(button) {
        button.addEventListener('click', function() {
            const japaneseContent = document.getElementById('Japanese');
            const englishContent = document.getElementById('English');
            if (englishContent.style.display === 'none') {
                englishContent.style.display = 'block';
                japaneseContent.style.display = 'block';
            } else {
                englishContent.style.display = 'none';
                japaneseContent.style.display = 'block';
            }
        });
    });
});
</script>

<!--AIとチャットスペース機能（日本語版）-->
  <script>
    // ラジオボタンのイベントリスナーにチャットエリアをリセットする処理を追加
document.querySelectorAll('#Japanese form.Category input[type="radio"]').forEach(function(radio) {
    radio.addEventListener('change', function() {
        // チャットエリアを取得
        var chatArea = document.getElementById('chat-area');
        // チャットエリアの内容をクリア
        chatArea.innerHTML = '';
        // 他の処理（カテゴリー関連のdivの表示/非表示など）...
    });
});

    document.getElementById('send-button').addEventListener('click', function() {
      var userInput = document.getElementById('user-input').value;
  if (userInput.trim()) {
    // ユーザーの入力をチャットエリアに追加
    var chatArea = document.getElementById('chat-area');
    var userDiv = document.createElement('div');
    var presetPhrasesDiv = document.getElementById('preset_phrases');
    if (presetPhrasesDiv) {
            presetPhrasesDiv.style.display = 'none';
        }
    userDiv.textContent = 'You: ' + userInput;
    userDiv.className = 'user-message'; // ユーザーメッセージ用のクラス名を設定
    chatArea.appendChild(userDiv);
    // 入力をFlaskに送信し、AIの応答を受け取る
    fetch('/get_ai_response', {
      method: 'POST',
      body: JSON.stringify({ 'text': userInput }),
      headers: {
        'Content-Type': 'application/json'
      }
    })
    .then(response => response.json())
    .then(data => {
      // AIの応答をチャットエリアに追加
      var aiDiv = document.createElement('div');
      aiDiv.textContent = 'AI: ' + data.response;
      aiDiv.className = 'ai-message'; // AIメッセージ用のクラス名を設定
      chatArea.appendChild(aiDiv);
    })
    .catch(error => console.error('Error:', error));
    // 入力フィールドをクリア
    document.getElementById('user-input').value = '';
  }
});
    </script>

    <!--AIとのチャットスペース（英語版）-->
    <script>
      document.addEventListener('DOMContentLoaded', function() {
    // 英語版のトピック選択要素をすべて取得
    var topics = document.querySelectorAll('#English .select_topic');

    topics.forEach(function(topic) {
        topic.addEventListener('click', function() {
            // ユーザーの入力欄を取得
            var inputField = document.getElementById('user-input-eng');

            // 選択されたトピックのテキストを入力欄に設定
            inputField.value = 'Let\'s create a project using ' + this.textContent + '.';
        });
    });
});

      

      document.getElementById('send-button-eng').addEventListener('click', function() {
        var userInput
    = document.getElementById('user-input-eng').value;
    if (userInput.trim()) {
    // ユーザーの入力をチャットエリアに追加
    var chatArea = document.getElementById('chat-area-eng');
    var userDiv = document.createElement('div');
    userDiv.textContent = 'You: ' + userInput;
    userDiv.className = 'user-message';
    chatArea.appendChild(userDiv);
    document.querySelector('#English .preset_phrases2').style.display = 'none';
        // 入力をFlaskに送信し、AIの応答を受け取る
        fetch('/get_ai_response_eng', {
            method: 'POST',
            body: JSON.stringify({ 'text': userInput }),
            headers: {
                'Content-Type': 'application/json'
            }
        })
        .then(response => response.json())
        .then(data => {
            // AIの応答をチャットエリアに追加
            var aiDiv = document.createElement('div');
            aiDiv.textContent = 'AI: ' + data.response;
            aiDiv.className = 'ai-message';
            chatArea.appendChild(aiDiv);
        })
        .catch(error => console.error('Error:', error));
        // 入力フィールドをクリア
        document.getElementById('user-input-eng').value = '';
    }
    });
  </script>

  <!--プログラム言語を自動選択する（日本語版）-->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
    // "自動選択する"ボタンのクリックイベントを監視
    const autoSelectButton = document.querySelector('.create_button2');
    autoSelectButton.addEventListener('click', function(event) {
        event.preventDefault(); // フォームの自動送信を防止

        // 機能の入力欄からデータを取得
        const functions = [];
        document.querySelectorAll('.custom .text-input2').forEach(function(input) {
            if(input.value.trim() !== '') {
                functions.push(input.value.trim());
            }
        });

        // データをJSON形式に整形
        const data = {
            'functions': functions
        };

        // FlaskのエンドポイントにデータをPOSTリクエストで送信
        fetch('/auto_select_language', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(data)
        })
        .then(response => response.json())
        .then(data => {
            // 応答に基づいてチェックボックスを自動選択
            const langCheckboxes = document.querySelectorAll('.use_lang .lang');
            langCheckboxes.forEach(checkbox => {
                // チェックボックスの値が応答に含まれる言語のリストにあればチェックする
                if(data.languages.includes(checkbox.value)) {
                    checkbox.checked = true;
                } else {
                    checkbox.checked = false;
                }
            });
        })
        .catch(error => console.error('Error:', error));
    });
});
</script>

<!--プログラム言語を自動で選択する（英語版）-->
<script>
  document.addEventListener('DOMContentLoaded', function() {
    // 英語版の "自動選択する" ボタンのクリックイベントを監視
    const autoSelectButtonEng = document.querySelector('#English .create_button2');
    autoSelectButtonEng.addEventListener('click', function(event) {
        event.preventDefault(); // フォームの自動送信を防止

        // 英語版の機能の入力欄からデータを取得
        const functionsEng = [];
        document.querySelectorAll('#English .custom .text-input2').forEach(function(input) {
            if(input.value.trim() !== '') {
                functionsEng.push(input.value.trim());
            }
        });

        // データをJSON形式に整形
        const dataEng = {
            'functions': functionsEng
        };

        // FlaskのエンドポイントにデータをPOSTリクエストで送信
        fetch('/auto_select_language', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(dataEng)
        })
        .then(response => response.json())
        .then(data => {
            // 応答に基づいて英語版のチェックボックスを自動選択
            const langCheckboxesEng = document.querySelectorAll('#English .use_lang .lang');
            langCheckboxesEng.forEach(checkbox => {
                // チェックボックスの値が応答に含まれる言語のリストにあればチェックする
                if(data.languages.includes(checkbox.value)) {
                    checkbox.checked = true;
                } else {
                    checkbox.checked = false;
                }
            });
        })
        .catch(error => console.error('Error:', error));
    });
});
</script>

<!--合格点数を取得する（日本語版）-->
<script>
  document.addEventListener('DOMContentLoaded', function() {
  document.getElementById('passScoreButton').addEventListener('click', function() {
    // 試験名の入力値を取得
    var qualificationName = document.getElementById('qualificat_name').value;

    // 送信するデータを準備
    var data = {
      'qualificationName': qualificationName
    };

    // AJAXを使ってサーバーにデータを送信
    fetch('/get_pass_score', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify(data)
    })
    .then(response => response.json())
    .then(data => {
      // 応答を処理（例：合格点を表示）
      alert('合格点: ' + data.passScore);
    })
    .catch(error => console.error('Error:', error));
  });
});

</script>

<!--資格試験の入力内容を取得する（日本語版）-->
<script>
  document.querySelector('.create_button3').addEventListener('click', function() {
      var qualificationData = {
          qualificationName: document.getElementById('qualificat_name').value,
          selectedColor: document.querySelector('#colorPicker2 .color-choice.selected')?.style.backgroundColor,
          testDate: document.getElementById('test_date').value,
          currentSkill: document.querySelector('input[name="options_2"]:checked')?.value,
          currentScore: document.getElementById('currentScore').value,
          targetSkill: document.querySelector('input[name="options_3"]:checked')?.value,
          targetScore: document.getElementById('targetScore').value
      };

      // 以下の行でコンソールに出力
    console.log("資格試験の入力内容:", qualificationData);
    const loadingDiv = document.querySelector('.loading_container');
    loadingDiv.style.display = 'flex';
  
      fetch('/submit_qualification_data', {
          method: 'POST',
          headers: {
              'Content-Type': 'application/json'
          },
          body: JSON.stringify(qualificationData)
      })
      .then(response => response.json())
      .then(data => {
          console.log('Success:', data);
          // ローディング画面を非表示
          loadingDiv.style.display = 'none';
  
          // レスポンスの処理
          console.log('Response:', data);
          if (data.redirect) {
              window.location.href = data.redirect_url;
          } else {
              alert('プロジェクトを作成できませんでした。もう一度作成して見てください');
          }
              })
      .catch((error) => {
          console.error('Error:', error);
          loadingDiv.style.display = 'none';
      });
  });
  
  function selectColor(element) {
      document.querySelectorAll('#colorPicker2 .color-choice').forEach(function(choice) {
          choice.classList.remove('selected');
      });
  
      element.classList.add('selected');
  }
  </script>

<!--資格試験の入力内容を取得する（英語版）-->
<script>
  document.querySelector('.create-button-eng').addEventListener('click', function() {
      var qualificationDataEng = {
          qualificationName: document.getElementById('qualification-name-eng').value,
          selectedColor: document.querySelector('#colorPicker-eng .color-choice.selected')?.style.backgroundColor,
          testDate: document.getElementById('test-date-eng').value,
          currentSkill: document.querySelector('input[name="options_current_eng"]:checked')?.value,
          currentScore: document.getElementById('current-score-eng').value,
          targetSkill: document.querySelector('input[name="options_target_eng"]:checked')?.value,
          targetScore: document.getElementById('target-score-eng').value
      };

      // Output to console
      console.log("Qualification Input (English):", qualificationDataEng);
      const loadingDivEng = document.querySelector('.loading_container_eng');
      loadingDivEng.style.display = 'flex';
  
      fetch('/submit_qualification_data_eng', {
          method: 'POST',
          headers: {
              'Content-Type': 'application/json'
          },
          body: JSON.stringify(qualificationDataEng)
      })
      .then(response => response.json())
      .then(data => {
          console.log('Success:', data);
          loadingDivEng.style.display = 'none';
  
          // Response handling
          console.log('Response:', data);
          if (data.redirect) {
              window.location.href = data.redirect_url;
          } else {
              alert('Could not create project. Please try again');
          }
      })
      .catch((error) => {
          console.error('Error:', error);
          loadingDivEng.style.display = 'none';
      });
  });
  
  function selectColorEng(element) {
      document.querySelectorAll('#colorPicker-eng .color-choice').forEach(function(choice) {
          choice.classList.remove('selected');
      });
  
      element.classList.add('selected');
  }
</script>

  
</body>
</html>